<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Poker Grind Clock</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      background-color: #f9f9f9;
      color: #222;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .player {
      background: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 0 7px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .player-name {
      font-weight: bold;
      font-size: 1.1em;
      width: 100px;
    }
    .timer {
      font-family: monospace;
      font-size: 1.3em;
      width: 90px;
      text-align: center;
    }
    button {
      margin-left: 10px;
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      color: white;
      background-color: #007bff;
      transition: background-color 0.3s ease;
    }
    button:hover:not(:disabled) {
      background-color: #0056b3;
    }
    button:disabled {
      background-color: #999;
      cursor: default;
    }
  </style>
</head>
<body>
  <body>
  <h1>Poker Grind Clock</h1>

  <div id="auth">
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <button onclick="login()">Log In</button>
    <button onclick="logout()">Log Out</button>
  </div>

  <div id="players-container"></div>

  <script>
    // Define the players
    const players = [
      { name: "Toast" },
      { name: "Kalv" },
      { name: "Kråjtz" },
      { name: "Skagge" },
      { name: "Ov" },
      { name: "Mulen" }  // Added 6th player here
    ];

    // Store player timers and intervals
    const timers = players.map(() => 0);
    const intervals = players.map(() => null);
    const clockedIn = players.map(() => false);

    const container = document.getElementById("players-container");

    // Format seconds into HH:MM:SS
    function formatTime(seconds) {
      const hrs = Math.floor(seconds / 3600);
      const mins = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      return [hrs, mins, secs]
        .map(unit => String(unit).padStart(2, '0'))
        .join(':');
    }

    // Update display for a player
    function updateDisplay(index) {
      const timerElem = document.getElementById(`timer-${index}`);
      timerElem.textContent = formatTime(timers[index]);
    }

    // Clock in function
    function clockIn(index) {
      if (clockedIn[index]) return;  // already clocked in
      clockedIn[index] = true;
      document.getElementById(`clock-in-${index}`).disabled = true;
      document.getElementById(`clock-out-${index}`).disabled = false;

      intervals[index] = setInterval(() => {
        timers[index]++;
        updateDisplay(index);
      }, 1000);
    }

    // Clock out function
    function clockOut(index) {
      if (!clockedIn[index]) return;  // already clocked out
      clockedIn[index] = false;
      document.getElementById(`clock-in-${index}`).disabled = false;
      document.getElementById(`clock-out-${index}`).disabled = true;

      clearInterval(intervals[index]);
      intervals[index] = null;
    }

    // Build the UI
    players.forEach((player, index) => {
      const playerDiv = document.createElement('div');
playerDiv.className = 'player';
playerDiv.setAttribute('data-player', player.name);

     

      const nameSpan = document.createElement('span');
      nameSpan.className = 'player-name';
      nameSpan.textContent = player.name;

      const timerSpan = document.createElement('span');
      timerSpan.className = 'timer';
      timerSpan.id = `timer-${index}`;
      timerSpan.textContent = formatTime(0);

      const clockInBtn = document.createElement('button');
      clockInBtn.id = `clock-in-${index}`;
      clockInBtn.textContent = 'Clock In';
      clockInBtn.onclick = () => clockIn(index);

      const clockOutBtn = document.createElement('button');
      clockOutBtn.id = `clock-out-${index}`;
      clockOutBtn.textContent = 'Clock Out';
      clockOutBtn.disabled = true;
      clockOutBtn.onclick = () => clockOut(index);

      playerDiv.appendChild(nameSpan);
      playerDiv.appendChild(timerSpan);
      playerDiv.appendChild(clockInBtn);
      playerDiv.appendChild(clockOutBtn);

      container.appendChild(playerDiv);
    });
  </script>
  <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyAbCdEfGhIjKlMnOpQrStUvWxYz123456",
    authDomain: "myproject-12345.firebaseapp.com",
    projectId: "myproject-12345",
    storageBucket: "myproject-12345.appspot.com",
    messagingSenderId: "9876543210",
    appId: "1:9876543210:web:abcdef123456"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();
</script>
<script>
  let currentPlayer = null;

  auth.onAuthStateChanged(user => {
    if (user) {
      const email = user.email.toLowerCase();
      if (email === "toast@example.com") currentPlayer = "Toast";
      else if (email === "kalv@example.com") currentPlayer = "Kalv";
      else if (email === "kråjtz@example.com") currentPlayer = "Kråjtz";
      else if (email === "skagge@example.com") currentPlayer = "Skagge";
      else if (email === "ov@example.com") currentPlayer = "Ov";
      else if (email === "kzzon@example.com") currentPlayer = "Kzzon";
      else if (email === "mulen@example.com") currentPlayer = "Mulen";

      enablePlayerClock(currentPlayer);
    } else {
      disableAllClocks();
    }
  });

  function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    auth.signInWithEmailAndPassword(email, password)
      .catch(err => alert("Login error: " + err.message));
  }

  function logout() {
    auth.signOut();
  }

  function enablePlayerClock(name) {
    document.querySelectorAll('.player').forEach(playerDiv => {
      const playerName = playerDiv.getAttribute('data-player');
      const buttons = playerDiv.querySelectorAll('button');
      buttons.forEach(btn => {
        btn.disabled = playerName !== name;
      });
    });
  }

  function disableAllClocks() {
    document.querySelectorAll('.player button').forEach(btn => btn.disabled = true);
  }
</script>

</body>
</html>







